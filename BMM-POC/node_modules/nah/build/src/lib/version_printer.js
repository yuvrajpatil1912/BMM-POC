"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function getVersionPrefix(version) {
    const index = version.indexOf(".");
    if (index !== -1) {
        return version.substr(0, index);
    }
    return null;
}
function groupByMajorVersion(versions) {
    return versions.reduce((result, version) => {
        const prefix = getVersionPrefix(version) || "other";
        if (!result[prefix]) {
            result[prefix] = [];
        }
        result[prefix].push(version);
        return result;
    }, {});
}
exports.groupByMajorVersion = groupByMajorVersion;
function findLongestVersion(versions) {
    return versions.reduce((longest, version) => {
        if (version.length > longest) {
            return version.length;
        }
        return longest;
    }, 0);
}
function padVersion(version, longest) {
    if (version.length < longest) {
        return version + " ".repeat(longest - version.length);
    }
    return version;
}
function print(versions, stdout) {
    const longestVersion = findLongestVersion(versions);
    const groups = groupByMajorVersion(versions);
    for (const group of Object.keys(groups)) {
        console.log(`${group}.x.x`);
        let count = 0;
        for (const version of groups[group]) {
            const padded = padVersion(version, longestVersion);
            process.stdout.write(`\t${padded}`);
            if (++count % 4 === 0) {
                console.log();
            }
        }
        console.log();
    }
}
exports.default = print;
//# sourceMappingURL=version_printer.js.map